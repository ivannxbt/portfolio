---
title: "Diseñando sistemas multiagente con Amazon Bedrock"
date: "2024-11-04"
summary: "Patrones para coordinar Claude, Agents for Bedrock y LangGraph con observabilidad y gobierno reales."
image: "/blog/default.svg"
tags:
  - Bedrock
  - Agentes
  - LangGraph
---

## ¿Por qué multiagente ahora?
Los equipos corporativos no confían en una sola llamada LLM. Los flujos de compras y legales requieren clasificadores, resumidores y planners con trazabilidad. Los agentes gestionados de Bedrock junto a LangGraph nos dan esa capa de orquestación sin rehacer el runtime.

## Arquitectura
1. **Ingreso** — un evento de S3 deja un contrato y emite metadatos a EventBridge.
2. **Planner** — un supervisor en LangGraph elige un agente Bedrock (Claude 3.5) con prompts de políticas y herramientas estructuradas.
3. **Especialistas** — cada agente ejecuta herramientas atómicas (endpoints SageMaker, APIs SAP, notificaciones Slack) y devuelve JSON.
4. **Evaluador** — RAGAS + heurísticas califica salidas y decide si escalar o publicar a DynamoDB.

## Observabilidad importante
- Emitir spans de LangGraph a CloudWatch EMF; el muestreo oculta PII, pero mantiene percentiles de latencia.
- Guardar cada paso y argumentos en DynamoDB con TTL: cumple SOX y es barato.
- Forzar evaluaciones multilingües: corro la misma rúbrica en ES y EN para detectar desvíos de traducción.

## Conclusiones
Los setups multiagente funcionan cuando la interfaz entre pasos es aburrida (JSON + errores tipados) y cuando la evaluación es automática. Bedrock maneja auth y escalado; LangGraph aporta flujos deterministas; lo demás es ingeniería de datos disciplinada.
